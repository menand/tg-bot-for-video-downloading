# ============================================================================
# Docker Compose — инструмент для запуска нескольких контейнеров
# В нашем случае он запускает только один контейнер с ботом
# ============================================================================

# Описываем сервисы (контейнеры), которые нужно запустить
services:
  # Название сервиса — "bot"
  bot:
    # Собираем образ из Dockerfile в текущей директории
    build: .

    # Политика перезапуска:
    # unless-stopped — перезапускать автоматически, если контейнер остановлен
    # (кроме случая, когда пользователь сам его остановил)
    restart: unless-stopped

    # Читает переменные окружения из файла .env
    # Формат файла .env: TELEGRAM_BOT_TOKEN=значение
    env_file: .env

    # Альтернативный способ задать переменные окружения (раскомментировать по необходимости)
    # ВАЖНО: Не коммитить токен в Git! Используйте только для локальной разработки
    # environment:
    #   TELEGRAM_BOT_TOKEN: "твой_токен"
